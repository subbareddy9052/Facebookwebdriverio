"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.RemoteMessages = void 0;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

const OBJECT_GROUP = 'console';

class RemoteMessages {
  constructor(isTargetBased = false) {
    this.isTargetBased = isTargetBased;
  }

  set isTargetBased(isTargetBased) {
    this._isTargetBased = isTargetBased;
  }

  get isTargetBased() {
    return this._isTargetBased;
  }

  setConnectionKey(opts = {}) {
    const {
      connId
    } = opts;
    return {
      __argument: {
        WIRConnectionIdentifierKey: connId
      },
      __selector: '_rpc_reportIdentifier:'
    };
  }

  connectToApp(opts = {}) {
    const {
      connId,
      appIdKey
    } = opts;
    return {
      __argument: {
        WIRConnectionIdentifierKey: connId,
        WIRApplicationIdentifierKey: appIdKey
      },
      __selector: '_rpc_forwardGetListing:'
    };
  }

  setSenderKey(opts = {}) {
    const {
      connId,
      senderId,
      appIdKey,
      pageIdKey
    } = opts;
    return {
      __argument: {
        WIRApplicationIdentifierKey: appIdKey,
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRPageIdentifierKey: pageIdKey,
        WIRAutomaticallyPause: false
      },
      __selector: '_rpc_forwardSocketSetup:'
    };
  }

  indicateWebView(opts = {}) {
    const {
      connId,
      appIdKey,
      pageIdKey,
      enabled
    } = opts;
    return {
      __argument: {
        WIRApplicationIdentifierKey: appIdKey,
        WIRIndicateEnabledKey: _lodash.default.isNil(enabled) ? true : enabled,
        WIRConnectionIdentifierKey: connId,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardIndicateWebView:'
    };
  }

  launchApplication(opts = {}) {
    const {
      bundleId
    } = opts;
    return {
      __argument: {
        WIRApplicationBundleIdentifierKey: bundleId
      },
      __selector: '_rpc_requestApplicationLaunch:'
    };
  }

  getFullCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      targetId,
      id
    } = opts;
    let realMethod;
    let realParams;

    if (this.isTargetBased) {
      realMethod = 'Target.sendMessageToTarget';
      realParams = {
        targetId,
        message: JSON.stringify({
          id,
          method,
          params: Object.assign({
            objectGroup: OBJECT_GROUP,
            includeCommandLineAPI: true,
            doNotPauseOnExceptionsAndMuteConsole: false,
            emulateUserGesture: false,
            generatePreview: false,
            saveResult: false
          }, params)
        })
      };
    } else {
      realMethod = method;
      realParams = Object.assign({
        objectGroup: OBJECT_GROUP,
        includeCommandLineAPI: true,
        doNotPauseOnExceptionsAndMuteConsole: false,
        emulateUserGesture: false
      }, params);
    }

    const plist = {
      __argument: {
        WIRSocketDataKey: {
          method: realMethod,
          params: realParams
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getMinimalCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      targetId,
      id
    } = opts;
    let realMethod = method;
    let realParams = params;

    if (this.isTargetBased) {
      realMethod = 'Target.sendMessageToTarget';
      realParams = {
        targetId,
        message: JSON.stringify({
          id,
          method,
          params
        })
      };
    }

    const plist = {
      __argument: {
        WIRSocketDataKey: {
          method: realMethod,
          params: realParams
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getDirectCommand(opts = {}) {
    const {
      method,
      params,
      connId,
      senderId,
      appIdKey,
      pageIdKey,
      id
    } = opts;
    const plist = {
      __argument: {
        WIRSocketDataKey: {
          id,
          method,
          params
        },
        WIRConnectionIdentifierKey: connId,
        WIRSenderKey: senderId,
        WIRApplicationIdentifierKey: appIdKey,
        WIRPageIdentifierKey: pageIdKey
      },
      __selector: '_rpc_forwardSocketData:'
    };
    return _lodash.default.omitBy(plist, _lodash.default.isNil);
  }

  getRemoteCommand(command, opts) {
    const {
      id,
      connId,
      appIdKey,
      senderId,
      pageIdKey,
      targetId
    } = opts;
    let method, params;

    switch (command) {
      case 'setConnectionKey':
        return this.setConnectionKey({
          connId
        });

      case 'indicateWebView':
        return this.indicateWebView({
          connId,
          appIdKey,
          pageIdKey,
          enabled: opts.enabled
        });

      case 'connectToApp':
        return this.connectToApp({
          connId,
          appIdKey
        });

      case 'setSenderKey':
        return this.setSenderKey({
          connId,
          senderId,
          appIdKey,
          pageIdKey
        });

      case 'launchApplication':
        return this.launchApplication(opts);

      case 'ApplicationCache.enable':
        method = 'ApplicationCache.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'ApplicationCache.getFramesWithManifests':
        method = 'ApplicationCache.getFramesWithManifests';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Canvas.enable':
        method = 'Canvas.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.disable':
        method = 'Console.disable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.enable':
        method = 'Console.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.getLoggingChannels':
        method = 'Console.getLoggingChannels';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Console.setLoggingChannelLevel':
        method = 'Console.setLoggingChannelLevel';
        params = {
          source: opts.source,
          level: opts.level
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'CSS.enable':
        method = 'CSS.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Database.enable':
        method = 'Database.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.enable':
        method = 'Debugger.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setAsyncStackTraceDepth':
        method = 'Debugger.setAsyncStackTraceDepth';
        params = {
          depth: opts.depth
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setBreakpointsActive':
        method = 'Debugger.setBreakpointsActive';
        params = {
          active: opts.active
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setPauseForInternalScripts':
        method = 'Debugger.setPauseForInternalScripts';
        params = {
          shouldPause: opts.shouldPause
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setPauseOnAssertions':
        method = 'Debugger.setPauseOnAssertions';
        params = {
          enabled: opts.enabled
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Debugger.setPauseOnExceptions':
        method = 'Debugger.setPauseOnExceptions';
        params = {
          state: opts.state
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'DOM.getDocument':
        method = 'DOM.getDocument';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'DOMStorage.enable':
        method = 'DOMStorage.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Heap.enable':
        method = 'Heap.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Heap.gc':
        method = 'Heap.gc';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'IndexedDB.enable':
        method = 'IndexedDB.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Inspector.enable':
        method = 'Inspector.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Inspector.initialized':
        method = 'Inspector.initialized';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'LayerTree.enable':
        method = 'LayerTree.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Memory.enable':
        method = 'Memory.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Network.disable':
        method = 'Network.disable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Network.enable':
        method = 'Network.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Network.setResourceCachingDisabled':
        method = 'Network.setResourceCachingDisabled';
        params = {
          disabled: opts.disabled
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.deleteCookie':
        method = 'Page.deleteCookie';
        params = {
          cookieName: opts.cookieName,
          url: opts.url
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.enable':
        method = 'Page.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.getCookies':
        method = 'Page.getCookies';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.getResourceTree':
        method = 'Page.getResourceTree';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Page.navigate':
        method = 'Page.navigate';
        params = {
          url: opts.url
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.awaitPromise':
        method = 'Runtime.awaitPromise';
        params = {
          promiseObjectId: opts.promiseObjectId,
          returnByValue: true,
          generatePreview: true,
          saveResult: true
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.callFunctionOn':
        method = 'Runtime.callFunctionOn';
        params = {
          objectId: opts.objId,
          functionDeclaration: opts.fn,
          arguments: opts.args,
          returnByValue: true
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.enable':
        method = 'Runtime.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Runtime.evaluate':
        method = 'Runtime.evaluate';
        params = {
          expression: opts.command,
          returnByValue: _lodash.default.isBoolean(opts.returnByValue) ? opts.returnByValue : true,
          contextId: opts.contextId
        };
        return this.getFullCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Target.exists':
        method = 'Target.exists';
        return this.getDirectCommand({
          method,
          connId,
          senderId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.setAutoCaptureEnabled':
        method = 'Timeline.setAutoCaptureEnabled';
        params = {
          enabled: opts.enabled
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.setInstruments':
        method = 'Timeline.setInstruments';
        params = {
          instruments: ['Timeline', 'ScriptProfiler', 'CPU']
        };
        return this.getMinimalCommand({
          method,
          params,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.start':
        method = 'Timeline.start';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Timeline.stop':
        method = 'Timeline.stop';
        return this.getFullCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      case 'Worker.enable':
        method = 'Worker.enable';
        return this.getMinimalCommand({
          method,
          connId,
          senderId,
          targetId,
          appIdKey,
          pageIdKey,
          id
        });

      default:
        throw new Error(`Unknown command: '${command}'`);
    }
  }

}

exports.RemoteMessages = RemoteMessages;
var _default = RemoteMessages;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9ycGMvcmVtb3RlLW1lc3NhZ2VzLmpzIl0sIm5hbWVzIjpbIk9CSkVDVF9HUk9VUCIsIlJlbW90ZU1lc3NhZ2VzIiwiY29uc3RydWN0b3IiLCJpc1RhcmdldEJhc2VkIiwiX2lzVGFyZ2V0QmFzZWQiLCJzZXRDb25uZWN0aW9uS2V5Iiwib3B0cyIsImNvbm5JZCIsIl9fYXJndW1lbnQiLCJXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleSIsIl9fc2VsZWN0b3IiLCJjb25uZWN0VG9BcHAiLCJhcHBJZEtleSIsIldJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleSIsInNldFNlbmRlcktleSIsInNlbmRlcklkIiwicGFnZUlkS2V5IiwiV0lSU2VuZGVyS2V5IiwiV0lSUGFnZUlkZW50aWZpZXJLZXkiLCJXSVJBdXRvbWF0aWNhbGx5UGF1c2UiLCJpbmRpY2F0ZVdlYlZpZXciLCJlbmFibGVkIiwiV0lSSW5kaWNhdGVFbmFibGVkS2V5IiwiXyIsImlzTmlsIiwibGF1bmNoQXBwbGljYXRpb24iLCJidW5kbGVJZCIsIldJUkFwcGxpY2F0aW9uQnVuZGxlSWRlbnRpZmllcktleSIsImdldEZ1bGxDb21tYW5kIiwibWV0aG9kIiwicGFyYW1zIiwidGFyZ2V0SWQiLCJpZCIsInJlYWxNZXRob2QiLCJyZWFsUGFyYW1zIiwibWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJPYmplY3QiLCJhc3NpZ24iLCJvYmplY3RHcm91cCIsImluY2x1ZGVDb21tYW5kTGluZUFQSSIsImRvTm90UGF1c2VPbkV4Y2VwdGlvbnNBbmRNdXRlQ29uc29sZSIsImVtdWxhdGVVc2VyR2VzdHVyZSIsImdlbmVyYXRlUHJldmlldyIsInNhdmVSZXN1bHQiLCJwbGlzdCIsIldJUlNvY2tldERhdGFLZXkiLCJvbWl0QnkiLCJnZXRNaW5pbWFsQ29tbWFuZCIsImdldERpcmVjdENvbW1hbmQiLCJnZXRSZW1vdGVDb21tYW5kIiwiY29tbWFuZCIsInNvdXJjZSIsImxldmVsIiwiZGVwdGgiLCJhY3RpdmUiLCJzaG91bGRQYXVzZSIsInN0YXRlIiwiZGlzYWJsZWQiLCJjb29raWVOYW1lIiwidXJsIiwicHJvbWlzZU9iamVjdElkIiwicmV0dXJuQnlWYWx1ZSIsIm9iamVjdElkIiwib2JqSWQiLCJmdW5jdGlvbkRlY2xhcmF0aW9uIiwiZm4iLCJhcmd1bWVudHMiLCJhcmdzIiwiZXhwcmVzc2lvbiIsImlzQm9vbGVhbiIsImNvbnRleHRJZCIsImluc3RydW1lbnRzIiwiRXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBR0EsTUFBTUEsWUFBWSxHQUFHLFNBQXJCOztBQUVBLE1BQU1DLGNBQU4sQ0FBcUI7QUFDbkJDLEVBQUFBLFdBQVcsQ0FBRUMsYUFBYSxHQUFHLEtBQWxCLEVBQXlCO0FBQ2xDLFNBQUtBLGFBQUwsR0FBcUJBLGFBQXJCO0FBQ0Q7O0FBRUQsTUFBSUEsYUFBSixDQUFtQkEsYUFBbkIsRUFBa0M7QUFDaEMsU0FBS0MsY0FBTCxHQUFzQkQsYUFBdEI7QUFDRDs7QUFFRCxNQUFJQSxhQUFKLEdBQXFCO0FBQ25CLFdBQU8sS0FBS0MsY0FBWjtBQUNEOztBQU1EQyxFQUFBQSxnQkFBZ0IsQ0FBRUMsSUFBSSxHQUFHLEVBQVQsRUFBYTtBQUMzQixVQUFNO0FBQUNDLE1BQUFBO0FBQUQsUUFBV0QsSUFBakI7QUFDQSxXQUFPO0FBQ0xFLE1BQUFBLFVBQVUsRUFBRTtBQUNWQyxRQUFBQSwwQkFBMEIsRUFBRUY7QUFEbEIsT0FEUDtBQUlMRyxNQUFBQSxVQUFVLEVBQUU7QUFKUCxLQUFQO0FBTUQ7O0FBRURDLEVBQUFBLFlBQVksQ0FBRUwsSUFBSSxHQUFHLEVBQVQsRUFBYTtBQUN2QixVQUFNO0FBQUNDLE1BQUFBLE1BQUQ7QUFBU0ssTUFBQUE7QUFBVCxRQUFxQk4sSUFBM0I7QUFDQSxXQUFPO0FBQ0xFLE1BQUFBLFVBQVUsRUFBRTtBQUNWQyxRQUFBQSwwQkFBMEIsRUFBRUYsTUFEbEI7QUFFVk0sUUFBQUEsMkJBQTJCLEVBQUVEO0FBRm5CLE9BRFA7QUFLTEYs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O1xuXG5cbmNvbnN0IE9CSkVDVF9HUk9VUCA9ICdjb25zb2xlJztcblxuY2xhc3MgUmVtb3RlTWVzc2FnZXMge1xuICBjb25zdHJ1Y3RvciAoaXNUYXJnZXRCYXNlZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5pc1RhcmdldEJhc2VkID0gaXNUYXJnZXRCYXNlZDtcbiAgfVxuXG4gIHNldCBpc1RhcmdldEJhc2VkIChpc1RhcmdldEJhc2VkKSB7XG4gICAgdGhpcy5faXNUYXJnZXRCYXNlZCA9IGlzVGFyZ2V0QmFzZWQ7XG4gIH1cblxuICBnZXQgaXNUYXJnZXRCYXNlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVGFyZ2V0QmFzZWQ7XG4gIH1cblxuICAvKlxuICAgKiBDb25uZWN0aW9uIGZ1bmN0aW9uc1xuICAgKi9cblxuICBzZXRDb25uZWN0aW9uS2V5IChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7Y29ubklkfSA9IG9wdHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX3JlcG9ydElkZW50aWZpZXI6J1xuICAgIH07XG4gIH1cblxuICBjb25uZWN0VG9BcHAgKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHtjb25uSWQsIGFwcElkS2V5fSA9IG9wdHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZCxcbiAgICAgICAgV0lSQXBwbGljYXRpb25JZGVudGlmaWVyS2V5OiBhcHBJZEtleVxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRHZXRMaXN0aW5nOidcbiAgICB9O1xuICB9XG5cbiAgc2V0U2VuZGVyS2V5IChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7Y29ubklkLCBzZW5kZXJJZCwgYXBwSWRLZXksIHBhZ2VJZEtleX0gPSBvcHRzO1xuICAgIHJldHVybiB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTogYXBwSWRLZXksXG4gICAgICAgIFdJUkNvbm5lY3Rpb25JZGVudGlmaWVyS2V5OiBjb25uSWQsXG4gICAgICAgIFdJUlNlbmRlcktleTogc2VuZGVySWQsXG4gICAgICAgIFdJUlBhZ2VJZGVudGlmaWVyS2V5OiBwYWdlSWRLZXksXG4gICAgICAgIFdJUkF1dG9tYXRpY2FsbHlQYXVzZTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBfX3NlbGVjdG9yOiAnX3JwY19mb3J3YXJkU29ja2V0U2V0dXA6J1xuICAgIH07XG4gIH1cblxuICBpbmRpY2F0ZVdlYlZpZXcgKG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbm5JZCxcbiAgICAgIGFwcElkS2V5LFxuICAgICAgcGFnZUlkS2V5LFxuICAgICAgZW5hYmxlZCxcbiAgICB9ID0gb3B0cztcbiAgICByZXR1cm4ge1xuICAgICAgX19hcmd1bWVudDoge1xuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJJbmRpY2F0ZUVuYWJsZWRLZXk6IF8uaXNOaWwoZW5hYmxlZCkgPyB0cnVlIDogZW5hYmxlZCxcbiAgICAgICAgV0lSQ29ubmVjdGlvbklkZW50aWZpZXJLZXk6IGNvbm5JZCxcbiAgICAgICAgV0lSUGFnZUlkZW50aWZpZXJLZXk6IHBhZ2VJZEtleVxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRJbmRpY2F0ZVdlYlZpZXc6J1xuICAgIH07XG4gIH1cblxuICBsYXVuY2hBcHBsaWNhdGlvbiAob3B0cyA9IHt9KSB7XG4gICAgY29uc3Qge2J1bmRsZUlkfSA9IG9wdHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSQXBwbGljYXRpb25CdW5kbGVJZGVudGlmaWVyS2V5OiBidW5kbGVJZFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX3JlcXVlc3RBcHBsaWNhdGlvbkxhdW5jaDonXG4gICAgfTtcbiAgfVxuXG4gIGdldEZ1bGxDb21tYW5kIChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICBtZXRob2QsXG4gICAgICBwYXJhbXMsXG4gICAgICBjb25uSWQsXG4gICAgICBzZW5kZXJJZCxcbiAgICAgIGFwcElkS2V5LFxuICAgICAgcGFnZUlkS2V5LFxuICAgICAgdGFyZ2V0SWQsXG4gICAgICBpZCxcbiAgICB9ID0gb3B0cztcblxuICAgIC8qIFRoZSBXZWIgSW5zcGVjdG9yIGhhcyBhIG51bWJlciBvZiBwYXJhbWV0ZXJzIHRoYXQgY2FuIGJlIHBhc3NlZCBpbiwgYXNcbiAgICAgKiBzZWVuIHdoZW4gZHVtcGluZyB3aGF0IFNhZmFyaSBpcyBkb2luZyB3aGVuIGNvbW11bmljYXRpbmcgd2l0aCBpdC4gTW9zdFxuICAgICAqIGFyZSBrZXB0IGFzIHRoZXkgYXJlIHNldCBmb3IgU2FmYXJpLiBUaGUgZXhjZXB0aW9uIGlzIGBlbXVsYXRlVXNlckdlc3R1cmVgXG4gICAgICogd2hpY2gsIG9uIGlPUyAxMyssIGJyZWFrcyBwb3B1cCBibG9ja2luZyAoaS5lLiwgZXZlbiB3aXRoIHRoZSBwb3B1cFxuICAgICAqIGJsb2NraW5nIHNldHRpbmcgb24sIG5ldyB3aW5kb3dzIGFyZSBvcGVuYWJsZSBib3RoIGZyb20gbGlua3MgYW5kIGZyb21cbiAgICAgKiBKYXZhU2NyaXB0KS5cbiAgICAgKi9cblxuICAgIGxldCByZWFsTWV0aG9kO1xuICAgIGxldCByZWFsUGFyYW1zO1xuICAgIGlmICh0aGlzLmlzVGFyZ2V0QmFzZWQpIHtcbiAgICAgIHJlYWxNZXRob2QgPSAnVGFyZ2V0LnNlbmRNZXNzYWdlVG9UYXJnZXQnO1xuICAgICAgcmVhbFBhcmFtcyA9IHtcbiAgICAgICAgdGFyZ2V0SWQsXG4gICAgICAgIG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGFyYW1zOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIG9iamVjdEdyb3VwOiBPQkpFQ1RfR1JPVVAsXG4gICAgICAgICAgICBpbmNsdWRlQ29tbWFuZExpbmVBUEk6IHRydWUsXG4gICAgICAgICAgICBkb05vdFBhdXNlT25FeGNlcHRpb25zQW5kTXV0ZUNvbnNvbGU6IGZhbHNlLFxuICAgICAgICAgICAgZW11bGF0ZVVzZXJHZXN0dXJlOiBmYWxzZSxcbiAgICAgICAgICAgIGdlbmVyYXRlUHJldmlldzogZmFsc2UsXG4gICAgICAgICAgICBzYXZlUmVzdWx0OiBmYWxzZSxcbiAgICAgICAgICB9LCBwYXJhbXMpXG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVhbE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIHJlYWxQYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgb2JqZWN0R3JvdXA6IE9CSkVDVF9HUk9VUCxcbiAgICAgICAgaW5jbHVkZUNvbW1hbmRMaW5lQVBJOiB0cnVlLFxuICAgICAgICBkb05vdFBhdXNlT25FeGNlcHRpb25zQW5kTXV0ZUNvbnNvbGU6IGZhbHNlLFxuICAgICAgICBlbXVsYXRlVXNlckdlc3R1cmU6IGZhbHNlLFxuICAgICAgfSwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBjb25zdCBwbGlzdCA9IHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSU29ja2V0RGF0YUtleToge1xuICAgICAgICAgIG1ldGhvZDogcmVhbE1ldGhvZCxcbiAgICAgICAgICBwYXJhbXM6IHJlYWxQYXJhbXMsXG4gICAgICAgIH0sXG4gICAgICAgIFdJUkNvbm5lY3Rpb25JZGVudGlmaWVyS2V5OiBjb25uSWQsXG4gICAgICAgIFdJUlNlbmRlcktleTogc2VuZGVySWQsXG4gICAgICAgIFdJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTogYXBwSWRLZXksXG4gICAgICAgIFdJUlBhZ2VJZGVudGlmaWVyS2V5OiBwYWdlSWRLZXksXG4gICAgICB9LFxuICAgICAgX19zZWxlY3RvcjogJ19ycGNfZm9yd2FyZFNvY2tldERhdGE6JyxcbiAgICB9O1xuICAgIHJldHVybiBfLm9taXRCeShwbGlzdCwgXy5pc05pbCk7XG4gIH1cblxuICBnZXRNaW5pbWFsQ29tbWFuZCAob3B0cyA9IHt9KSB7XG4gICAgY29uc3Qge21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCB0YXJnZXRJZCwgaWR9ID0gb3B0cztcblxuICAgIGxldCByZWFsTWV0aG9kID0gbWV0aG9kO1xuICAgIGxldCByZWFsUGFyYW1zID0gcGFyYW1zO1xuICAgIGlmICh0aGlzLmlzVGFyZ2V0QmFzZWQpIHtcbiAgICAgIHJlYWxNZXRob2QgPSAnVGFyZ2V0LnNlbmRNZXNzYWdlVG9UYXJnZXQnO1xuICAgICAgcmVhbFBhcmFtcyA9IHtcbiAgICAgICAgdGFyZ2V0SWQsXG4gICAgICAgIG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcGxpc3QgPSB7XG4gICAgICBfX2FyZ3VtZW50OiB7XG4gICAgICAgIFdJUlNvY2tldERhdGFLZXk6IHtcbiAgICAgICAgICBtZXRob2Q6IHJlYWxNZXRob2QsXG4gICAgICAgICAgcGFyYW1zOiByZWFsUGFyYW1zLFxuICAgICAgICB9LFxuICAgICAgICBXSVJDb25uZWN0aW9uSWRlbnRpZmllcktleTogY29ubklkLFxuICAgICAgICBXSVJTZW5kZXJLZXk6IHNlbmRlcklkLFxuICAgICAgICBXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXk6IGFwcElkS2V5LFxuICAgICAgICBXSVJQYWdlSWRlbnRpZmllcktleTogcGFnZUlkS2V5LFxuICAgICAgfSxcbiAgICAgIF9fc2VsZWN0b3I6ICdfcnBjX2ZvcndhcmRTb2NrZXREYXRhOidcbiAgICB9O1xuICAgIHJldHVybiBfLm9taXRCeShwbGlzdCwgXy5pc05pbCk7XG4gIH1cblxuICBnZXREaXJlY3RDb21tYW5kIChvcHRzID0ge30pIHtcbiAgICBjb25zdCB7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSA9IG9wdHM7XG5cbiAgICBjb25zdCBwbGlzdCA9IHtcbiAgICAgIF9fYXJndW1lbnQ6IHtcbiAgICAgICAgV0lSU29ja2V0RGF0YUtleToge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgIH0sXG4gICAgICAgIFdJUkNvbm5lY3Rpb25JZGVudGlmaWVyS2V5OiBjb25uSWQsXG4gICAgICAgIFdJUlNlbmRlcktleTogc2VuZGVySWQsXG4gICAgICAgIFdJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTogYXBwSWRLZXksXG4gICAgICAgIFdJUlBhZ2VJZGVudGlmaWVyS2V5OiBwYWdlSWRLZXksXG4gICAgICB9LFxuICAgICAgX19zZWxlY3RvcjogJ19ycGNfZm9yd2FyZFNvY2tldERhdGE6J1xuICAgIH07XG4gICAgcmV0dXJuIF8ub21pdEJ5KHBsaXN0LCBfLmlzTmlsKTtcbiAgfVxuXG4gIGdldFJlbW90ZUNvbW1hbmQgKGNvbW1hbmQsIG9wdHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIGNvbm5JZCxcbiAgICAgIGFwcElkS2V5LFxuICAgICAgc2VuZGVySWQsXG4gICAgICBwYWdlSWRLZXksXG4gICAgICB0YXJnZXRJZCxcbiAgICB9ID0gb3B0cztcblxuICAgIGxldCBtZXRob2QsIHBhcmFtcztcblxuICAgIHN3aXRjaCAoY29tbWFuZCkge1xuICAgICAgLyogQkFTSUMgQ09NTUFORFMgKi9cbiAgICAgIGNhc2UgJ3NldENvbm5lY3Rpb25LZXknOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXRDb25uZWN0aW9uS2V5KHtjb25uSWR9KTtcbiAgICAgIGNhc2UgJ2luZGljYXRlV2ViVmlldyc6XG4gICAgICAgIHJldHVybiB0aGlzLmluZGljYXRlV2ViVmlldyh7Y29ubklkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBlbmFibGVkOiBvcHRzLmVuYWJsZWR9KTtcbiAgICAgIGNhc2UgJ2Nvbm5lY3RUb0FwcCc6XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RUb0FwcCh7Y29ubklkLCBhcHBJZEtleX0pO1xuICAgICAgY2FzZSAnc2V0U2VuZGVyS2V5JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0U2VuZGVyS2V5KHtjb25uSWQsIHNlbmRlcklkLCBhcHBJZEtleSwgcGFnZUlkS2V5fSk7XG4gICAgICBjYXNlICdsYXVuY2hBcHBsaWNhdGlvbic6XG4gICAgICAgIHJldHVybiB0aGlzLmxhdW5jaEFwcGxpY2F0aW9uKG9wdHMpO1xuXG5cbiAgICAgIC8qIEFQUExJQ0FUSU9OQ0FDSEUgRE9NQUlOICovXG4gICAgICBjYXNlICdBcHBsaWNhdGlvbkNhY2hlLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdBcHBsaWNhdGlvbkNhY2hlLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnQXBwbGljYXRpb25DYWNoZS5nZXRGcmFtZXNXaXRoTWFuaWZlc3RzJzpcbiAgICAgICAgbWV0aG9kID0gJ0FwcGxpY2F0aW9uQ2FjaGUuZ2V0RnJhbWVzV2l0aE1hbmlmZXN0cyc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIENBTlZBUyBET01BSU4gKi9cbiAgICAgIGNhc2UgJ0NhbnZhcy5lbmFibGUnOlxuICAgICAgICBtZXRob2QgPSAnQ2FudmFzLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIENPTlNPTEUgRE9NQUlOICovXG4gICAgICBjYXNlICdDb25zb2xlLmRpc2FibGUnOlxuICAgICAgICBtZXRob2QgPSAnQ29uc29sZS5kaXNhYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdDb25zb2xlLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdDb25zb2xlLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnQ29uc29sZS5nZXRMb2dnaW5nQ2hhbm5lbHMnOlxuICAgICAgICBtZXRob2QgPSAnQ29uc29sZS5nZXRMb2dnaW5nQ2hhbm5lbHMnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0NvbnNvbGUuc2V0TG9nZ2luZ0NoYW5uZWxMZXZlbCc6XG4gICAgICAgIG1ldGhvZCA9ICdDb25zb2xlLnNldExvZ2dpbmdDaGFubmVsTGV2ZWwnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgc291cmNlOiBvcHRzLnNvdXJjZSxcbiAgICAgICAgICBsZXZlbDogb3B0cy5sZXZlbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBDU1MgRE9NQUlOICovXG4gICAgICBjYXNlICdDU1MuZW5hYmxlJzpcbiAgICAgICAgbWV0aG9kID0gJ0NTUy5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBEQVRBQkFTRSBET01BSU4gKi9cbiAgICAgIGNhc2UgJ0RhdGFiYXNlLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdEYXRhYmFzZS5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBERUJVR0dFUiBET01BSU4gKi9cbiAgICAgIGNhc2UgJ0RlYnVnZ2VyLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdEZWJ1Z2dlci5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0RlYnVnZ2VyLnNldEFzeW5jU3RhY2tUcmFjZURlcHRoJzpcbiAgICAgICAgbWV0aG9kID0gJ0RlYnVnZ2VyLnNldEFzeW5jU3RhY2tUcmFjZURlcHRoJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGRlcHRoOiBvcHRzLmRlcHRoLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnRGVidWdnZXIuc2V0QnJlYWtwb2ludHNBY3RpdmUnOlxuICAgICAgICBtZXRob2QgPSAnRGVidWdnZXIuc2V0QnJlYWtwb2ludHNBY3RpdmUnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgYWN0aXZlOiBvcHRzLmFjdGl2ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ0RlYnVnZ2VyLnNldFBhdXNlRm9ySW50ZXJuYWxTY3JpcHRzJzpcbiAgICAgICAgbWV0aG9kID0gJ0RlYnVnZ2VyLnNldFBhdXNlRm9ySW50ZXJuYWxTY3JpcHRzJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIHNob3VsZFBhdXNlOiBvcHRzLnNob3VsZFBhdXNlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnRGVidWdnZXIuc2V0UGF1c2VPbkFzc2VydGlvbnMnOlxuICAgICAgICBtZXRob2QgPSAnRGVidWdnZXIuc2V0UGF1c2VPbkFzc2VydGlvbnMnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgZW5hYmxlZDogb3B0cy5lbmFibGVkLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnRGVidWdnZXIuc2V0UGF1c2VPbkV4Y2VwdGlvbnMnOlxuICAgICAgICBtZXRob2QgPSAnRGVidWdnZXIuc2V0UGF1c2VPbkV4Y2VwdGlvbnMnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgc3RhdGU6IG9wdHMuc3RhdGUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogRE9NIERPTUFJTiAqL1xuICAgICAgY2FzZSAnRE9NLmdldERvY3VtZW50JzpcbiAgICAgICAgbWV0aG9kID0gJ0RPTS5nZXREb2N1bWVudCc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIERPTVNUT1JBR0UgRE9NQUlOICovXG4gICAgICBjYXNlICdET01TdG9yYWdlLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdET01TdG9yYWdlLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIEhFQVAgRE9NQUlOICovXG4gICAgICBjYXNlICdIZWFwLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdIZWFwLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnSGVhcC5nYyc6XG4gICAgICAgIG1ldGhvZCA9ICdIZWFwLmdjJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogSU5ERVhFRERCIERPTUFJTiAqL1xuICAgICAgY2FzZSAnSW5kZXhlZERCLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdJbmRleGVkREIuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogSU5TUEVDVE9SIERPTUFJTiAqL1xuICAgICAgY2FzZSAnSW5zcGVjdG9yLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdJbnNwZWN0b3IuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdJbnNwZWN0b3IuaW5pdGlhbGl6ZWQnOlxuICAgICAgICBtZXRob2QgPSAnSW5zcGVjdG9yLmluaXRpYWxpemVkJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogTEFZRVJUUkVFIERPTUFJTiAqL1xuICAgICAgY2FzZSAnTGF5ZXJUcmVlLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdMYXllclRyZWUuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogTUVNT1JZIERPTUFJTiAqL1xuICAgICAgY2FzZSAnTWVtb3J5LmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdNZW1vcnkuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogTkVUV09SSyBET01BSU4gKi9cbiAgICAgIGNhc2UgJ05ldHdvcmsuZGlzYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdOZXR3b3JrLmRpc2FibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ05ldHdvcmsuZW5hYmxlJzpcbiAgICAgICAgbWV0aG9kID0gJ05ldHdvcmsuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdOZXR3b3JrLnNldFJlc291cmNlQ2FjaGluZ0Rpc2FibGVkJzpcbiAgICAgICAgbWV0aG9kID0gJ05ldHdvcmsuc2V0UmVzb3VyY2VDYWNoaW5nRGlzYWJsZWQnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgZGlzYWJsZWQ6IG9wdHMuZGlzYWJsZWQsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cbiAgICAgIC8qIFBBR0UgRE9NQUlOICovXG4gICAgICBjYXNlICdQYWdlLmRlbGV0ZUNvb2tpZSc6XG4gICAgICAgIG1ldGhvZCA9ICdQYWdlLmRlbGV0ZUNvb2tpZSc7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBjb29raWVOYW1lOiBvcHRzLmNvb2tpZU5hbWUsXG4gICAgICAgICAgdXJsOiBvcHRzLnVybCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ1BhZ2UuZW5hYmxlJzpcbiAgICAgICAgbWV0aG9kID0gJ1BhZ2UuZW5hYmxlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdQYWdlLmdldENvb2tpZXMnOlxuICAgICAgICBtZXRob2QgPSAnUGFnZS5nZXRDb29raWVzJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdQYWdlLmdldFJlc291cmNlVHJlZSc6XG4gICAgICAgIG1ldGhvZCA9ICdQYWdlLmdldFJlc291cmNlVHJlZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnUGFnZS5uYXZpZ2F0ZSc6XG4gICAgICAgIG1ldGhvZCA9ICdQYWdlLm5hdmlnYXRlJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIHVybDogb3B0cy51cmwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZ1bGxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG5cblxuICAgICAgLyogUlVOVElNRSBET01BSU4gKi9cbiAgICAgIGNhc2UgJ1J1bnRpbWUuYXdhaXRQcm9taXNlJzpcbiAgICAgICAgbWV0aG9kID0gJ1J1bnRpbWUuYXdhaXRQcm9taXNlJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIHByb21pc2VPYmplY3RJZDogb3B0cy5wcm9taXNlT2JqZWN0SWQsXG4gICAgICAgICAgcmV0dXJuQnlWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICBnZW5lcmF0ZVByZXZpZXc6IHRydWUsXG4gICAgICAgICAgc2F2ZVJlc3VsdDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ1J1bnRpbWUuY2FsbEZ1bmN0aW9uT24nOlxuICAgICAgICBtZXRob2QgPSAnUnVudGltZS5jYWxsRnVuY3Rpb25Pbic7XG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBvYmplY3RJZDogb3B0cy5vYmpJZCxcbiAgICAgICAgICBmdW5jdGlvbkRlY2xhcmF0aW9uOiBvcHRzLmZuLFxuICAgICAgICAgIGFyZ3VtZW50czogb3B0cy5hcmdzLFxuICAgICAgICAgIHJldHVybkJ5VmFsdWU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZ1bGxDb21tYW5kKHttZXRob2QsIHBhcmFtcywgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdSdW50aW1lLmVuYWJsZSc6XG4gICAgICAgIG1ldGhvZCA9ICdSdW50aW1lLmVuYWJsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1pbmltYWxDb21tYW5kKHttZXRob2QsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnUnVudGltZS5ldmFsdWF0ZSc6XG4gICAgICAgIG1ldGhvZCA9ICdSdW50aW1lLmV2YWx1YXRlJztcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIGV4cHJlc3Npb246IG9wdHMuY29tbWFuZCxcbiAgICAgICAgICByZXR1cm5CeVZhbHVlOiBfLmlzQm9vbGVhbihvcHRzLnJldHVybkJ5VmFsdWUpID8gb3B0cy5yZXR1cm5CeVZhbHVlIDogdHJ1ZSxcbiAgICAgICAgICBjb250ZXh0SWQ6IG9wdHMuY29udGV4dElkLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuXG5cbiAgICAgIC8qIFRBUkdFVCBET01BSU4gKi9cbiAgICAgIGNhc2UgJ1RhcmdldC5leGlzdHMnOlxuICAgICAgICBtZXRob2QgPSAnVGFyZ2V0LmV4aXN0cyc7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpcmVjdENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBUSU1FTElORSBET01BSU4gKi9cbiAgICAgIGNhc2UgJ1RpbWVsaW5lLnNldEF1dG9DYXB0dXJlRW5hYmxlZCc6XG4gICAgICAgIG1ldGhvZCA9ICdUaW1lbGluZS5zZXRBdXRvQ2FwdHVyZUVuYWJsZWQnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgZW5hYmxlZDogb3B0cy5lbmFibGVkLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBwYXJhbXMsIGNvbm5JZCwgc2VuZGVySWQsIHRhcmdldElkLCBhcHBJZEtleSwgcGFnZUlkS2V5LCBpZH0pO1xuICAgICAgY2FzZSAnVGltZWxpbmUuc2V0SW5zdHJ1bWVudHMnOlxuICAgICAgICBtZXRob2QgPSAnVGltZWxpbmUuc2V0SW5zdHJ1bWVudHMnO1xuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgaW5zdHJ1bWVudHM6IFtcbiAgICAgICAgICAgICdUaW1lbGluZScsXG4gICAgICAgICAgICAnU2NyaXB0UHJvZmlsZXInLFxuICAgICAgICAgICAgJ0NQVScsXG4gICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWluaW1hbENvbW1hbmQoe21ldGhvZCwgcGFyYW1zLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcbiAgICAgIGNhc2UgJ1RpbWVsaW5lLnN0YXJ0JzpcbiAgICAgICAgbWV0aG9kID0gJ1RpbWVsaW5lLnN0YXJ0JztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbENvbW1hbmQoe21ldGhvZCwgY29ubklkLCBzZW5kZXJJZCwgdGFyZ2V0SWQsIGFwcElkS2V5LCBwYWdlSWRLZXksIGlkfSk7XG4gICAgICBjYXNlICdUaW1lbGluZS5zdG9wJzpcbiAgICAgICAgbWV0aG9kID0gJ1RpbWVsaW5lLnN0b3AnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGdWxsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICAvKiBXT1JLRVIgRE9NQUlOICovXG4gICAgICBjYXNlICdXb3JrZXIuZW5hYmxlJzpcbiAgICAgICAgbWV0aG9kID0gJ1dvcmtlci5lbmFibGUnO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW5pbWFsQ29tbWFuZCh7bWV0aG9kLCBjb25uSWQsIHNlbmRlcklkLCB0YXJnZXRJZCwgYXBwSWRLZXksIHBhZ2VJZEtleSwgaWR9KTtcblxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY29tbWFuZDogJyR7Y29tbWFuZH0nYCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFJlbW90ZU1lc3NhZ2VzIH07XG5leHBvcnQgZGVmYXVsdCBSZW1vdGVNZXNzYWdlcztcbiJdLCJmaWxlIjoibGliL3JwYy9yZW1vdGUtbWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
